# ✅ Phase 1 レビューチェックリスト

Phase 1（基礎構築）のレビュー時に確認すべき項目です。

## 🚀 環境起動チェック

### Docker環境
```bash
# 1. Dockerコンテナを起動
npm run docker:start

# 2. ログを確認（エラーがないか）
npm run docker:logs

# 3. ステータス確認
npm run docker:status
```

### ローカル環境
```bash
# 1. 依存関係をインストール
npm install

# 2. 開発サーバーを起動
npm run dev
```

**✅ チェック項目:**
- [ ] エラーなく起動する
- [ ] http://localhost:3000 にアクセスできる
- [ ] コンソールにエラーが出ていない

---

## 🎨 UI/レイアウトチェック

### ヘッダー（Header）
**期待する表示:**
- [ ] Journeeロゴ（青い背景に飛行機アイコン）
- [ ] "Journee" タイトルテキスト
- [ ] "AI旅のしおり作成" サブテキスト
- [ ] 右側に「ログイン」と「はじめる」ボタン

### 左側: チャットボックス（40%幅）
**期待する表示:**
- [ ] "AIチャット" ヘッダー
- [ ] "旅行の希望を伝えてください" サブテキスト
- [ ] AIモデル選択ドロップダウン（Gemini/Claude）
- [ ] 初期状態: ボットアイコンと「AIと対話して旅行計画を始めましょう」メッセージ
- [ ] 下部にメッセージ入力欄と送信ボタン

### 右側: しおりプレビュー（60%幅）
**期待する表示:**
- [ ] 初期状態: カレンダーアイコン
- [ ] "旅のしおりをプレビュー" テキスト
- [ ] 説明文: "AIチャットで旅行計画を作成すると..."

### レスポンシブデザイン
**確認方法:** ブラウザの開発者ツールでウィンドウサイズを変更

- [ ] デスクトップ表示が崩れない
- [ ] ウィンドウを縮小しても適切にスケールする

---

## 💬 チャット機能チェック

### メッセージ送信テスト

**操作手順:**
1. 左側のチャット入力欄に「京都に2泊3日で旅行したいです」と入力
2. 送信ボタン（紙飛行機アイコン）をクリック

**✅ チェック項目:**
- [ ] ユーザーメッセージが右側に青い吹き出しで表示される
- [ ] ユーザーアイコン（人型）が表示される
- [ ] 送信時刻が表示される
- [ ] ローディング表示（3つの点が跳ねるアニメーション）が表示される
- [ ] 約1秒後、AIのモックレスポンスが表示される
- [ ] AIメッセージが左側にグレーの吹き出しで表示される
- [ ] AIアイコン（ロボット）が表示される
- [ ] メッセージ内容: "ありがとうございます！旅行計画のお手伝いをさせていただきます。Phase 3でAI機能を統合予定です。"

### 複数メッセージテスト
**操作手順:**
1. 続けて別のメッセージを送信
2. さらに別のメッセージを送信

**✅ チェック項目:**
- [ ] メッセージが時系列順に表示される
- [ ] スクロールが自動的に最新メッセージに移動する
- [ ] メッセージ履歴が保持される

### AIモデル選択
**操作手順:**
1. ドロップダウンから「Claude」を選択
2. 「Gemini」に戻す

**✅ チェック項目:**
- [ ] ドロップダウンが動作する
- [ ] 選択が切り替わる
- [ ] エラーが出ない（Phase 7で実装予定の機能）

---

## 🧪 ブラウザ開発者ツールチェック

### コンソールチェック
**操作手順:** F12キーで開発者ツールを開く → Consoleタブ

**✅ チェック項目:**
- [ ] エラー（赤色）が表示されていない
- [ ] 警告（黄色）が重大でない（あっても良い）
- [ ] React/Next.jsの通常のログのみ

### Networkチェック
**操作手順:** 開発者ツール → Networkタブ → ページをリロード

**✅ チェック項目:**
- [ ] すべてのリソースが200 OKで読み込まれる
- [ ] 404エラーがない
- [ ] CSSとJSファイルが正しく読み込まれる

### Elementsチェック
**操作手順:** 開発者ツール → Elementsタブ

**✅ チェック項目:**
- [ ] HTML構造が正しい
- [ ] Tailwind CSSクラスが適用されている
- [ ] レイアウトの崩れがない

---

## 🔧 ビルド・Lintチェック

### Docker環境
```bash
# コンテナ内でビルド
docker-compose exec app npm run build

# Lint実行
docker-compose exec app npm run lint
```

### ローカル環境
```bash
# ビルド
npm run build

# Lint
npm run lint
```

**✅ チェック項目:**
- [ ] ビルドが成功する（エラーなし）
- [ ] Lintエラーがない
- [ ] TypeScriptの型エラーがない
- [ ] ビルド出力に警告が少ない

---

## 📂 コード品質チェック

### ファイル構造
```bash
# ファイル構造を確認
tree -L 3 -I 'node_modules|.next'
```

**✅ チェック項目:**
- [ ] READMEに記載された構造に従っている
- [ ] コンポーネントが適切なディレクトリに配置されている
  - `components/chat/` - チャット関連
  - `components/itinerary/` - しおり関連
  - `components/layout/` - レイアウト関連
  - `lib/store/` - 状態管理
  - `types/` - 型定義

### TypeScript型定義
**確認ファイル:**
- `types/chat.ts`
- `types/itinerary.ts`

**✅ チェック項目:**
- [ ] 型定義が明確
- [ ] interfaceが適切に定義されている
- [ ] exportされている

### 状態管理（Zustand）
**確認ファイル:** `lib/store/useStore.ts`

**✅ チェック項目:**
- [ ] Zustandストアが適切に設定されている
- [ ] チャット状態（messages, isLoading）が管理されている
- [ ] しおり状態（currentItinerary）が管理されている
- [ ] アクション（addMessage, setLoading等）が定義されている

### コンポーネント設計

**✅ チェック項目:**
- [ ] コンポーネントが適切に分割されている
- [ ] 'use client'ディレクティブが必要な場所に付いている
- [ ] propsの型が定義されている
- [ ] 命名規則が統一されている（PascalCase）

---

## 🎯 機能要件チェック

### Phase 1で実装すべき項目（READMEより）

- [x] プロジェクトセットアップ（Next.js + TypeScript + Tailwind CSS）
- [x] 基本的なレイアウト構築（デスクトップ版）
- [x] チャットUIコンポーネントの実装
- [x] しおりプレビューの基本レイアウト
- [x] 状態管理の実装（Zustand）

**✅ すべて完了していることを確認**

---

## 🐳 Dockerチェック

### Dockerファイル確認
**✅ チェック項目:**
- [ ] `Dockerfile` が存在する
- [ ] `docker-compose.yml` が存在する
- [ ] `.dockerignore` が存在する
- [ ] `scripts/docker-dev.sh` が実行可能

### Dockerコマンド動作確認
```bash
# 各コマンドが動作するか
npm run docker:start
npm run docker:status
npm run docker:logs
npm run docker:stop
```

**✅ チェック項目:**
- [ ] すべてのコマンドがエラーなく実行できる
- [ ] ホットリロードが動作する（コード変更が即座に反映される）

---

## 📱 動作テストシナリオ

### シナリオ1: 初回訪問ユーザー
1. ブラウザで http://localhost:3000 にアクセス
2. UIが正しく表示されることを確認
3. チャットにメッセージを入力して送信
4. AIの応答が表示されることを確認

**✅ 期待する動作:**
- [ ] スムーズに表示される
- [ ] 違和感のないUI
- [ ] エラーが出ない

### シナリオ2: 複数メッセージのやり取り
1. 3〜5個のメッセージを連続送信
2. スクロール動作を確認
3. メッセージ履歴が保持されることを確認

**✅ 期待する動作:**
- [ ] メッセージが正しく表示される
- [ ] 自動スクロールが動作する
- [ ] パフォーマンスの問題がない

### シナリオ3: ページリロード
1. メッセージを送信
2. ページをリロード（F5）
3. 状態を確認

**✅ 期待する動作:**
- [ ] ページがリロードされる
- [ ] メッセージ履歴はクリアされる（Phase 4で保存機能実装予定）
- [ ] エラーが出ない

---

## 🎨 デザイン品質チェック

### カラー・タイポグラフィ
**✅ チェック項目:**
- [ ] カラーが統一されている（青系のメインカラー）
- [ ] テキストが読みやすい
- [ ] コントラストが適切

### スペーシング・レイアウト
**✅ チェック項目:**
- [ ] 適切な余白がある
- [ ] 要素が密集していない
- [ ] 視覚的なバランスが良い

### アニメーション
**✅ チェック項目:**
- [ ] ローディングアニメーション（3つの点）が滑らか
- [ ] ホバーエフェクトが適切
- [ ] アニメーションが過剰でない

---

## 📊 パフォーマンスチェック

### 初回ロード
**✅ チェック項目:**
- [ ] ページ読み込みが高速（3秒以内）
- [ ] First Contentful Paint (FCP) が速い
- [ ] レイアウトシフトがない

### メモリ使用量
**確認方法:** 開発者ツール → Performance タブ

**✅ チェック項目:**
- [ ] メモリリークがない
- [ ] 複数メッセージ送信後もパフォーマンスが安定

---

## 📝 ドキュメントチェック

**✅ チェック項目:**
- [ ] README.md が最新
- [ ] DOCKER.md が存在し、説明が明確
- [ ] QUICKSTART.md が存在し、手順が明確
- [ ] .env.example が存在
- [ ] package.json の scripts が適切

---

## 🎯 最終チェック

### 必須項目（すべて✅であること）
- [ ] アプリケーションが起動する
- [ ] UIが正しく表示される
- [ ] チャット機能が動作する
- [ ] ビルドが成功する
- [ ] Lintエラーがない
- [ ] コンソールに重大なエラーがない

### Nice to have（できればチェック）
- [ ] Dockerが動作する
- [ ] ドキュメントが充実している
- [ ] コード品質が高い
- [ ] デザインが美しい

---

## 🐛 よくある問題と解決方法

### ポート3000が使えない
```bash
# 別のプロセスを確認して終了
lsof -i :3000
kill -9 <PID>
```

### ホットリロードが動作しない
```bash
# サーバーを再起動
npm run docker:restart  # または npm run dev
```

### 型エラーが出る
```bash
# TypeScriptを再起動
# VSCodeの場合: Cmd+Shift+P → "TypeScript: Restart TS Server"
```

---

## ✅ レビュー完了の判断基準

**Phase 1が完了とみなせる条件:**

1. **必須項目がすべて✅** 
2. **ビルドが成功する**
3. **基本的なチャット機能が動作する**
4. **UIが適切に表示される**
5. **重大なバグがない**

**→ これらをクリアしたらPhase 2（認証機能）に進めます！** 🎉

---

最終更新: 2025-10-07

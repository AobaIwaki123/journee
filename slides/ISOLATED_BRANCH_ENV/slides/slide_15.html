<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>マニフェスト管理 | スライド 15</title>
  <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>
  <!-- プログレスバー -->
  <div class="progress-bar">
    <div class="progress-bar-fill"></div>
  </div>

  <!-- スライドコンテナ -->
  <div class="slide-container">
    <div class="slide-content">
      <h2>📁 ブランチ固有のマニフェスト管理</h2>
      
      <div class="card">
        <h3>ディレクトリ構成</h3>
        <pre><code class="language-plaintext">k8s/
├── manifests/              # メインブランチ用
│   ├── deployment.yml
│   ├── service.yml
│   ├── ingress.yml
│   └── kustomization.yml
├── manifests-<hash>/       # ブランチ固有（動的生成）
│   └── ...
└── argocd/                 # ArgoCD Application
    └── app.yml</code></pre>
      </div>

      <div class="card">
        <h3>ブランチハッシュの生成</h3>
        <pre><code class="language-bash">BRANCH="feature/add-new-component"
BRANCH_HASH=$(echo -n "$BRANCH" | md5sum | cut -c1-6)
# 例: "a1b2c3"

# リソース名の変換
# my-app → my-app-a1b2c3
# my-app.example.com → my-app-a1b2c3.example.com</code></pre>
      </div>
    </div>
  </div>

  <!-- スライド番号 -->
  <div class="slide-number"></div>

  <!-- ナビゲーション -->
  <div class="navigation">
    <button class="nav-button prev">← 前へ</button>
    <button class="nav-button home">🏠 ホーム</button>
    <button class="nav-button next">次へ →</button>
  </div>

  <script src="../assets/js/navigation.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tokyo-night-dark.min.css">
  <script>hljs.highlightAll();</script>
</body>
</html>


# タスク完了時のチェックリスト

## 必須チェック項目

### 1. コード品質

#### 型チェック
```bash
npm run type-check
```
- TypeScriptエラーがないこと
- `any` 型を使用していないこと
- すべての変数・関数に明示的な型定義があること

#### Lint
```bash
npm run lint
```
- ESLintエラーがないこと
- 警告も可能な限り解消すること

#### コードレビュー（セルフチェック）
- [ ] 不要なconsole.logを削除
- [ ] コメントアウトされたコードを削除
- [ ] TODO/FIXMEコメントを確認（必要に応じてissue化）
- [ ] 命名規則に従っているか
- [ ] Import順序が正しいか

### 2. テスト

#### ユニットテスト（該当する場合）
```bash
npm run test
```
- 新規追加した関数・ユーティリティのテストを追加
- 既存テストが壊れていないことを確認

#### E2Eテスト（UI変更の場合）
```bash
npm run test:e2e
```
- 主要なユーザーフローが壊れていないことを確認
- 必要に応じて新規E2Eテストを追加

### 3. ビルド確認

```bash
npm run build
```
- ビルドエラーがないこと
- ビルド警告を確認（重要な警告は解消）

### 4. 動作確認

#### 開発環境
```bash
npm run dev
```
- [ ] 追加・変更した機能が正しく動作する
- [ ] 既存機能が壊れていない
- [ ] エラーがコンソールに出ていない

#### レスポンシブ確認（UI変更の場合）
- [ ] デスクトップ表示
- [ ] タブレット表示
- [ ] モバイル表示

#### ブラウザ確認（重要な変更の場合）
- [ ] Chrome
- [ ] Safari（macOS）
- [ ] Firefox（推奨）

### 5. ドキュメント更新

該当する場合、以下を更新:
- [ ] README.md
- [ ] API.md（API変更の場合）
- [ ] SCHEMA.md（DB変更の場合）
- [ ] PLAN.md（大きな機能追加の場合）
- [ ] GUIDELINE.md（新しいパターン・規約の追加）

### 6. コミット

```bash
git add .
git commit -m "type(scope): subject"
```

- Conventional Commitsに従う
- コミットメッセージは具体的に
- 必要に応じてissue番号を記載（`Closes #123`）

### 7. プッシュ前の最終確認

```bash
# 型チェック + Lint + ビルド
npm run type-check && npm run lint && npm run build
```

すべてパスしたら:
```bash
git push
```

## タスク種別ごとの追加チェック

### 新機能追加
- [ ] E2Eテストを追加
- [ ] ユニットテストを追加（ロジック部分）
- [ ] ドキュメント更新
- [ ] エラーハンドリング実装

### バグ修正
- [ ] 修正内容を確認（手動テスト）
- [ ] 同じバグが他の箇所にないか確認
- [ ] 再発防止のためのテスト追加（推奨）

### リファクタリング
- [ ] 既存テストがすべてパス
- [ ] 動作が変わっていないことを確認
- [ ] パフォーマンスが悪化していないか確認

### UI変更
- [ ] レスポンシブ対応
- [ ] アクセシビリティ確認（キーボード操作、スクリーンリーダー）
- [ ] アニメーション・トランジションの確認

### API変更
- [ ] API.mdを更新
- [ ] 既存のAPI呼び出し箇所を確認
- [ ] エラーレスポンスの処理を確認
- [ ] E2Eテストで動作確認

### データベース変更
- [ ] SCHEMA.mdを更新
- [ ] マイグレーションスクリプト作成（必要に応じて）
- [ ] RLS（Row Level Security）の設定確認
- [ ] 既存データへの影響を確認

## 推奨: CI/CD前の統合チェック

本番環境へのマージ前:
```bash
npm run test:all && npm run build
```

すべてパスすることを確認してからPRを作成。

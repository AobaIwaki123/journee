---
alwaysApply: true
---

# Journee ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
AIã¨ã¨ã‚‚ã«æ—…ã®ã—ãŠã‚Šã‚’ä½œæˆã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ãƒãƒ£ãƒƒãƒˆå½¢å¼ã§æ—…è¡Œè¨ˆç”»ã‚’ç«‹ã¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã—ãŠã‚Šã‚’ç”Ÿæˆã—ã¾ã™ã€‚

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 14+ (App Router)
- **è¨€èª**: TypeScript
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS
- **çŠ¶æ…‹ç®¡ç†**: Zustand
- **UI**: lucide-react (ã‚¢ã‚¤ã‚³ãƒ³)
- **é–‹ç™ºç’°å¢ƒ**: Docker

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### `/app` - Next.js App Router
- [app/page.tsx](mdc:app/page.tsx) - ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼ˆãƒãƒ£ãƒƒãƒˆ40% / ã—ãŠã‚Š60%ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
- [app/layout.tsx](mdc:app/layout.tsx) - ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- [app/globals.css](mdc:app/globals.css) - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
- `/app/api` - APIãƒ«ãƒ¼ãƒˆï¼ˆPhase 2ä»¥é™ã§å®Ÿè£…ï¼‰

### `/components` - Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `/chat` - ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
  - [ChatBox.tsx](mdc:components/chat/ChatBox.tsx) - ãƒãƒ£ãƒƒãƒˆã‚³ãƒ³ãƒ†ãƒŠ
  - [MessageList.tsx](mdc:components/chat/MessageList.tsx) - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§
  - [MessageInput.tsx](mdc:components/chat/MessageInput.tsx) - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›
  - [AISelector.tsx](mdc:components/chat/AISelector.tsx) - AIãƒ¢ãƒ‡ãƒ«é¸æŠ
- `/itinerary` - ã—ãŠã‚Šæ©Ÿèƒ½
  - [ItineraryPreview.tsx](mdc:components/itinerary/ItineraryPreview.tsx) - ã—ãŠã‚Šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
  - [DaySchedule.tsx](mdc:components/itinerary/DaySchedule.tsx) - æ—¥ç¨‹è¡¨ç¤º
  - [SpotCard.tsx](mdc:components/itinerary/SpotCard.tsx) - è¦³å…‰ã‚¹ãƒãƒƒãƒˆã‚«ãƒ¼ãƒ‰
- `/layout` - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  - [Header.tsx](mdc:components/layout/Header.tsx) - ãƒ˜ãƒƒãƒ€ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

### `/lib` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ­ã‚¸ãƒƒã‚¯
- `/store` - ZustandçŠ¶æ…‹ç®¡ç†
  - [useStore.ts](mdc:lib/store/useStore.ts) - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒˆã‚¢
- `/ai` - AIçµ±åˆï¼ˆPhase 3ã§å®Ÿè£…äºˆå®šï¼‰
- `/auth` - èªè¨¼ï¼ˆPhase 2ã§å®Ÿè£…äºˆå®šï¼‰

### `/types` - TypeScriptå‹å®šç¾©
- [chat.ts](mdc:types/chat.ts) - ãƒãƒ£ãƒƒãƒˆé–¢é€£ã®å‹
- [itinerary.ts](mdc:types/itinerary.ts) - ã—ãŠã‚Šé–¢é€£ã®å‹

### `/public` - é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
- `/images` - ç”»åƒãƒ»ã‚¢ã‚¤ã‚³ãƒ³

## é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º
- âœ… **Phase 1ï¼ˆå®Œäº†ï¼‰**: åŸºç¤æ§‹ç¯‰ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒãƒ£ãƒƒãƒˆUIã€çŠ¶æ…‹ç®¡ç†ï¼‰
- ğŸ”„ **Phase 2ï¼ˆæ¬¡ï¼‰**: èªè¨¼æ©Ÿèƒ½ï¼ˆNextAuth.js + Google OAuthï¼‰
- ğŸ“‹ **Phase 3**: AIçµ±åˆï¼ˆGemini APIï¼‰
- ğŸ“‹ **Phase 4-11**: ãã®ä»–æ©Ÿèƒ½ï¼ˆè©³ç´°ã¯[README.md](mdc:README.md)å‚ç…§ï¼‰

## é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«
- [package.json](mdc:package.json) - ä¾å­˜é–¢ä¿‚ãƒ»npm scripts
- [tsconfig.json](mdc:tsconfig.json) - TypeScriptè¨­å®š
- [tailwind.config.ts](mdc:tailwind.config.ts) - Tailwind CSSè¨­å®š
- [README.md](mdc:README.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®è©³ç´°
- [PHASE1_SUMMARY.md](mdc:PHASE1_SUMMARY.md) - Phase 1å®Œäº†ã‚µãƒãƒªãƒ¼

## çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰
- ãƒãƒ£ãƒƒãƒˆçŠ¶æ…‹: `messages`, `isLoading`
- ã—ãŠã‚ŠçŠ¶æ…‹: `currentItinerary`
- UIçŠ¶æ…‹: `selectedAI`ï¼ˆgemini / claudeï¼‰

å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ `useStore()` ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã€‚

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆåŸå‰‡
1. **Client Components**: 'use client'ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–å¿…é ˆï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªUIï¼‰
2. **ãƒ•ã‚¡ã‚¤ãƒ«å‘½å**: PascalCaseï¼ˆä¾‹: ChatBox.tsxï¼‰
3. **export**: named exportï¼ˆä¾‹: `export const ChatBox: React.FC = () => {}`ï¼‰
4. **å‹å®‰å…¨æ€§**: ã™ã¹ã¦ã®propsã¨stateã«å‹å®šç¾©
5. **å†åˆ©ç”¨æ€§**: å˜ä¸€è²¬ä»»ã®åŸå‰‡ã«å¾“ã†

## Dockerç’°å¢ƒ
- `npm run docker:start` - é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- `npm run docker:stop` - åœæ­¢
- `npm run docker:logs` - ãƒ­ã‚°ç¢ºèª
- è©³ç´°ã¯[DOCKER.md](mdc:DOCKER.md)å‚ç…§

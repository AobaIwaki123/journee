# Phase 5.5 クイックテスト実行ガイド

**所要時間**: 3分  
**難易度**: ⭐ 簡単

## 🚀 今すぐテストを実行

### 方法1: デバッグツール（最も簡単）

```bash
# ターミナルで実行
npm run dev
```

ブラウザで以下のURLを開く：
```
http://localhost:3000/debug-share.html
```

画面で「**クイック公開テスト実行**」ボタンをクリック

✅ **期待される結果**:
- 新しいタブで公開ページが自動的に開く
- しおりのタイトル「クイックテスト用しおり」が表示される
- 日程と観光スポットが表示される
- カスタムメッセージ「これはクイックテスト用のカスタムメッセージです」が青いボックスで表示される
- 編集ボタンが表示されない（Read-only）

❌ **404エラーが表示される場合**:
→ バグが修正されていません。次の「トラブルシューティング」を確認してください

---

### 方法2: 実際のアプリで確認

```bash
# ターミナルで実行
npm run dev
```

ブラウザで以下のURLを開く：
```
http://localhost:3000
```

#### ステップ1: しおりを作成
1. チャットで「京都に3泊4日で旅行します」と入力
2. AIがしおりを生成するのを待つ

#### ステップ2: 共有ボタンをクリック
1. しおりプレビュー左上の「**共有**」ボタンをクリック
2. 公開設定パネルが画面中央に表示される

#### ステップ3: 公開する
1. 「**公開する**」にチェックを入れる
2. 「**公開URLを発行**」ボタンをクリック
3. Toast通知「しおりを公開しました！」が表示される
4. 公開URLが表示される（例: `http://localhost:3000/share/V1StGXR8_Z`）

#### ステップ4: URLをコピー
1. コピーボタン（📋）をクリック
2. Toast通知「URLをコピーしました」が表示される

#### ステップ5: 公開ページを開く
1. 新しいタブを開く
2. URLを貼り付けてアクセス
3. ✅ しおりが表示されることを確認

---

## 🔍 確認ポイント

### ✅ 正常動作の確認

公開ページで以下を確認：

- [ ] しおりのタイトルが表示される
- [ ] 目的地が表示される
- [ ] 期間（開始日〜終了日）が表示される
- [ ] 日程表が表示される
- [ ] 観光スポットが表示される
- [ ] スポットの詳細（時刻、料金、説明）が表示される
- [ ] カスタムメッセージが青いボックスで表示される
- [ ] 編集ボタンが表示されない
- [ ] Undo/Redoボタンが表示されない
- [ ] 共有ボタンが表示される
- [ ] PDFダウンロードボタンが表示される（許可している場合）
- [ ] フッターに「このしおりはJourneeで作成されました」が表示される
- [ ] 閲覧数が表示される
- [ ] 公開日が表示される

### ❌ バグの確認

以下の場合はバグです：

- [ ] 404エラーページが表示される
- [ ] 「しおりが見つかりません」と表示される
- [ ] ページが真っ白
- [ ] コンソールにエラーが出ている
- [ ] ローディングが終わらない

---

## 🐛 トラブルシューティング

### 問題1: 404エラーが表示される

**確認事項**:

1. **LocalStorageキーの確認**
   ```javascript
   // ブラウザコンソールで実行
   console.log(localStorage.getItem('journee_public_itineraries'));
   ```
   → データが表示されるか確認

2. **スラッグの確認**
   ```javascript
   // すべてのスラッグを表示
   const data = JSON.parse(localStorage.getItem('journee_public_itineraries') || '{}');
   console.log('スラッグ一覧:', Object.keys(data));
   ```
   → 公開したスラッグが含まれているか確認

3. **ブラウザコンソールのエラー確認**
   - F12で開発者ツールを開く
   - Consoleタブを確認
   - 赤いエラーメッセージがないか確認

**解決方法**:

```bash
# デバッグツールを使用
http://localhost:3000/debug-share.html

# 「LocalStorageを表示」をクリック
# → データが正しく保存されているか確認

# 「クイック公開テスト実行」をクリック
# → 自動でテストデータを作成して公開ページを開く
```

### 問題2: パネルが表示されない

**確認事項**:
- しおりが作成されているか確認
- しおりにスケジュールが含まれているか確認
- ブラウザの幅が十分にあるか確認

### 問題3: URLコピーができない

**確認事項**:
- HTTPSまたはlocalhostでアクセスしているか
- Clipboard APIが有効か

---

## 📊 テスト結果の記録

### 実行日: 2025-10-07

| テスト項目 | 結果 | 備考 |
|-----------|------|------|
| デバッグツール | ✅ / ❌ | |
| 公開フロー | ✅ / ❌ | |
| 公開ページ表示 | ✅ / ❌ | |
| URLコピー | ✅ / ❌ | |
| Web Share API | ✅ / ❌ | |
| 設定変更 | ✅ / ❌ | |
| 非公開化 | ✅ / ❌ | |
| 404ページ | ✅ / ❌ | |

### 発見された問題

1. ________________________________________________
2. ________________________________________________
3. ________________________________________________

---

## 📞 サポート

問題が解決しない場合：

1. **LocalStorageをクリア**: デバッグツールの「すべてクリア」ボタン
2. **ブラウザを再起動**: キャッシュをクリア
3. **開発サーバーを再起動**: `Ctrl+C` → `npm run dev`
4. **コンソールログを確認**: F12 → Console タブ

---

**テスト完了時**: このドキュメントのチェックボックスに✅を入れてください

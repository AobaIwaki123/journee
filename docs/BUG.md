# Journee バグ・改善点

このドキュメントは、Journeeプロジェクトの既知のバグ、改善点、将来的な機能追加のアイデアを記録しています。

## ✅ ユーザー追加のバグ（解決済み）

以下のバグはPLAN.mdに詳細化され、解決されました：

- ✅ ~~閲覧ページでPDF作成ボタンが有効化されてない~~ → Phase 10.1で修正完了（2025-10-09）
- ✅ ~~閲覧ページでPDFプレビューが使えない~~ → Phase 10.1で修正完了（2025-10-09）

## 🐛 既知のバグ

#### 共有URLのプレビュー画像が表示されない
- **ステータス**: ✅ 解決済み（Phase 10.2で修正、2025-10-09）
- **説明**: SNSでURLを共有した際のOGP画像が表示されない
- **影響**: SNS共有時の見た目が悪い
- **対策**: OGP画像の動的生成機能を実装
  - `/app/api/og/route.tsx`でOGP画像を動的生成
  - `/app/share/[slug]/page.tsx`でメタタグを設定
  - 手動テスト推奨: Twitter Card Validator、Facebook Sharing Debugger

---

## 📊 パフォーマンス指標

### 現在の指標（Phase 9時点）

| 指標 | 目標 | 現在 | ステータス |
|-----|------|------|-----------|
| 初期ロード時間 | < 2秒 | 2.5秒 | ⚠️ 要改善 |
| TTI (Time to Interactive) | < 3秒 | 3.2秒 | ⚠️ 要改善 |
| AIレスポンス開始時間 | < 1秒 | 0.8秒 | ✅ 達成 |
| PDF生成時間 | < 5秒 | 4.2秒 | ✅ 達成 |
| モバイルLighthouseスコア | > 90 | 85 | ⚠️ 要改善 |
| デスクトップLighthouseスコア | > 95 | 92 | ⚠️ 要改善 |

### 改善計画
- 初期ロード時間: コード分割、画像最適化
- TTI: 重要でないスクリプトの遅延読み込み
- Lighthouseスコア: アクセシビリティ対応、SEO最適化

---

## 🧪 テストカバレッジ

### 現在のカバレッジ（Phase 9時点）

| カテゴリ | カバレッジ | 目標 | ステータス |
|---------|-----------|------|-----------|
| ユニットテスト | 60% | 80% | 🔄 進行中 |
| 統合テスト | 40% | 70% | 🔄 進行中 |
| E2Eテスト | 30% | 60% | 🔄 進行中 |

### 優先的にテストが必要な領域
- [ ] 認証フロー
- [ ] しおり作成の全フェーズ
- [ ] データマイグレーション
- [ ] 編集機能（Undo/Redo、D&D）
- [ ] PDF生成
- [ ] エラーハンドリング

---

## 🔗 報告方法

バグや改善点を発見した場合は、以下の情報を添えて報告してください：

### バグ報告テンプレート
```
### バグの概要
[バグの簡潔な説明]

### 再現手順
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

### 期待される動作
[本来どうあるべきか]

### 実際の動作
[実際に何が起こるか]

### 環境
- OS: [e.g., macOS 14, Windows 11]
- ブラウザ: [e.g., Chrome 120, Safari 17]
- デバイス: [e.g., デスクトップ, iPhone 15]

### スクリーンショット
[可能であれば添付]
```

### 改善提案テンプレート
```
### 提案の概要
[改善提案の簡潔な説明]

### 背景・動機
[なぜこの改善が必要か]

### 提案内容
[具体的にどう改善するか]

### 期待される効果
[この改善によって得られるメリット]

### 実装の難易度
[簡単/普通/難しい]
```

---

## 📝 更新履歴

| 日付 | 変更内容 |
|------|---------|
| 2025-10-09 | ドキュメント作成、既知のバグ・改善点を整理 |
| 2025-10-09 | Phase 10.1完了: 閲覧ページのPDF機能を修正 |
| 2025-10-09 | Phase 10.2完了: OGP画像の動的生成機能を実装 |
| 2025-10-09 | ユーザー追加バグを解決済みとしてマーク |

---

**最終更新**: 2025-10-09

---

## 🔗 関連ドキュメント

- [実装計画（PLAN.md）](./PLAN.md)
- [リリース履歴（RELEASE.md）](./RELEASE.md)
- [API仕様（API.md）](./API.md)
- [クイックスタート（QUICK_START.md）](./QUICK_START.md)


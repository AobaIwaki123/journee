# Phase 7.2: モバイル対応 - テストガイド

## 実装完了項目

✅ **7.2.1**: モバイルタブ切り替えコンポーネント  
✅ **7.2.2**: メインページのレスポンシブ対応  
✅ **7.2.3**: ヘッダーのモバイル最適化  
✅ **7.2.4**: チャット・しおりコンポーネントのモバイルレイアウト調整  
✅ **7.2.5**: モバイル専用レイアウト（タブ切り替え方式）  
✅ **7.2.6**: タッチジェスチャー対応  

## テスト対象ブレークポイント

### 1. モバイル (<768px)
- **対象デバイス**: iPhone 14 Pro (393x852), Galaxy S21 (360x800)
- **テスト項目**:
  - [x] タブ切り替えが正しく表示される
  - [x] ハンバーガーメニューが表示される
  - [x] スワイプでタブが切り替わる（左右スワイプ）
  - [x] チャット/しおりが全画面表示される
  - [x] フォントサイズが読みやすい
  - [x] ボタンがタップしやすいサイズ
  - [x] パディング・スペーシングが適切

### 2. タブレット (768px-1024px)
- **対象デバイス**: iPad (768x1024), iPad Pro (1024x1366)
- **テスト項目**:
  - [x] デスクトップレイアウト（横並び）が表示される
  - [x] チャット40% / しおり60%の割合
  - [x] ヘッダーが正しく表示される
  - [x] すべてのボタン・リンクが表示される

### 3. デスクトップ (≥1024px)
- **対象デバイス**: MacBook (1440x900), Desktop (1920x1080)
- **テスト項目**:
  - [x] 横並びレイアウトが表示される
  - [x] ホバーエフェクトが正常動作
  - [x] すべての機能が正常動作

## テスト手順

### 1. 開発サーバーの起動
```bash
npm run dev
```

### 2. ブラウザのDevToolsでレスポンシブテスト

#### Chrome DevTools
1. F12 または Cmd+Opt+I でDevToolsを開く
2. デバイスツールバーアイコン（Cmd+Shift+M）をクリック
3. デバイスを選択してテスト

#### 推奨テストシーケンス
```
iPhone 14 Pro (393px) → タブレット (768px) → デスクトップ (1024px) → フルHD (1920px)
```

### 3. 各画面でのチェックリスト

#### モバイル画面 (<768px)
- [ ] ヘッダーにハンバーガーメニューが表示される
- [ ] タブ切り替え（しおり/チャット）が表示される
- [ ] 左スワイプで「しおり → チャット」に切り替わる
- [ ] 右スワイプで「チャット → しおり」に切り替わる
- [ ] チャット入力フィールドが使いやすい
- [ ] しおりの日程カードが読みやすい
- [ ] ボタンがタップしやすい（最小44x44px）
- [ ] スクロールがスムーズ

#### タブレット画面 (768px-1024px)
- [ ] 横並びレイアウトが表示される
- [ ] チャットとしおりが同時に表示される
- [ ] ヘッダーの全ボタンが表示される
- [ ] ユーザーメニューが正常動作

#### デスクトップ画面 (≥1024px)
- [ ] 横並びレイアウトが快適に表示される
- [ ] すべてのホバーエフェクトが動作
- [ ] スペーシングが適切

## 機能テスト

### 1. ナビゲーション
- [ ] ホーム → しおり一覧 → 設定 → ホーム
- [ ] モバイルメニューからのナビゲーション
- [ ] ログアウト機能

### 2. チャット機能
- [ ] メッセージ送信
- [ ] AIレスポンス受信（ストリーミング）
- [ ] AIモデル切り替え
- [ ] スクロール動作

### 3. しおり機能
- [ ] しおり表示
- [ ] 日程の展開/折りたたみ
- [ ] Undo/Redo
- [ ] PDF出力
- [ ] 共有機能
- [ ] 保存/リセット

### 4. タッチジェスチャー（モバイルのみ）
- [ ] 左右スワイプでタブ切り替え
- [ ] スクロールが正常動作
- [ ] ドラッグ&ドロップ（スポット並び替え）
- [ ] タップ操作が正確

## パフォーマンステスト

### モバイル (3G/4G)
- [ ] 初期ロード時間 < 3秒
- [ ] タブ切り替え < 200ms
- [ ] スワイプ応答性 < 100ms
- [ ] スクロールがスムーズ（60fps）

### デスクトップ
- [ ] 初期ロード時間 < 2秒
- [ ] すべての操作が瞬時

## アクセシビリティテスト

- [ ] キーボードナビゲーションが可能
- [ ] タブインデックスが正しい
- [ ] aria属性が適切に設定
- [ ] フォーカスインジケーターが表示される
- [ ] カラーコントラストが十分（WCAG AA準拠）

## 既知の問題

現時点でなし。

## トラブルシューティング

### 問題: スワイプが動作しない
- **原因**: タッチイベントがキャプチャされていない
- **解決**: `touch-pan-y` クラスが適用されているか確認

### 問題: タブ切り替えが遅い
- **原因**: 再レンダリングが多い
- **解決**: React.memoの適用を確認

### 問題: モバイルで文字が小さい
- **原因**: レスポンシブクラスが不足
- **解決**: `text-sm md:text-base` などを追加

## 次のステップ

- [ ] **Phase 7.2.8**: PWA対応（オプション）
- [ ] **Phase 8**: データベース統合
- [ ] **Phase 9**: 最適化・テスト

## 関連ドキュメント

- [README.md - Phase 7.2](../README.md#phase-72-モバイル対応)
- [Tailwind CSS Responsive Design](https://tailwindcss.com/docs/responsive-design)
- [Touch Events API](https://developer.mozilla.org/en-US/docs/Web/API/Touch_events)

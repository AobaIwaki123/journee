# Journee ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

## ğŸ“‹ ç›®çš„

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Journeeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Šã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§æ”¹å–„ã®ãŸã‚ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ–¹é‡ã‚’å®šç¾©ã—ã¾ã™ã€‚

## ğŸ” ç¾çŠ¶åˆ†æ

### ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œç‚¹

#### 1. ãƒ†ã‚¹ãƒˆã®ä¸è¶³
- **å•é¡Œ**: æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯æ‰‹å‹•ãƒ†ã‚¹ãƒˆç”¨ï¼ˆå®Ÿè¡Œä¸å¯ï¼‰
- **å½±éŸ¿**: ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒªã‚¹ã‚¯ãŒé«˜ã„ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒå›°é›£
- **å„ªå…ˆåº¦**: ğŸ”´ é«˜

#### 2. å¤§ãã™ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
- **å•é¡Œ**: `lib/store/useStore.ts` ãŒ766è¡Œã¨è‚¥å¤§åŒ–
- **å½±éŸ¿**: å¯èª­æ€§ä½ä¸‹ã€è²¬å‹™ã®åˆ†æ•£ãŒä¸æ˜ç¢º
- **å„ªå…ˆåº¦**: ğŸŸ¡ ä¸­
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… **è§£æ±ºæ¸ˆã¿**ï¼ˆ6ã‚¹ãƒ©ã‚¤ã‚¹ã«åˆ†å‰²å®Œäº†ï¼‰

#### 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä¸€è²«æ€§
- **å•é¡Œ**: ã‚¨ãƒ©ãƒ¼å‡¦ç†ãŒå„æ‰€ã§ç•°ãªã‚‹å®Ÿè£…
- **å½±éŸ¿**: ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ä¸çµ±ä¸€
- **å„ªå…ˆåº¦**: ğŸŸ¡ ä¸­
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âŒ **æœªè§£æ±º**

#### 4. å‹å®‰å…¨æ€§ã®èª²é¡Œ
- **å•é¡Œ**: ä¸€éƒ¨ã§`any`å‹ã®ä½¿ç”¨ã€å‹å®šç¾©ã®é‡è¤‡
- **å½±éŸ¿**: å‹å®‰å…¨æ€§ã®ä½ä¸‹ã€è£œå®Œã®åŠ¹ãã«ãã•
- **å„ªå…ˆåº¦**: ğŸŸ¢ ä½
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ”„ **ä¸€éƒ¨æ”¹å–„**

## ğŸ¯ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ–¹é‡

### Phase 1: ãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ©ã®æ§‹ç¯‰ âœ… å®Œäº†

#### 1.1 ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å°å…¥ âœ…
- **æ¡ç”¨æŠ€è¡“**: Vitestï¼ˆNext.js 14+ã¨ã®ç›¸æ€§ãŒè‰¯ã„ï¼‰
- **ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: @testing-library/react
- **ãƒ¢ãƒƒã‚¯**: mswï¼ˆAPI mockingï¼‰

**ç†ç”±**:
- Vitestã¯é«˜é€Ÿã§TypeScriptãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆ
- Next.jsã¨ã®çµ±åˆãŒå®¹æ˜“
- Jestã‹ã‚‰ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¹ãŒã‚·ãƒ³ãƒ—ãƒ«

#### 1.2 ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  âœ…
```
__tests__/
  unit/              # å˜ä½“ãƒ†ã‚¹ãƒˆ âœ… å®Ÿè£…æ¸ˆã¿
    lib/
      ai/
        prompts.test.ts (19ãƒ†ã‚¹ãƒˆ)
      utils/
        time-utils.test.ts (20ãƒ†ã‚¹ãƒˆ)
        encryption.test.ts (18ãƒ†ã‚¹ãƒˆ)
        storage.test.ts (19ãƒ†ã‚¹ãƒˆ)
    components/      # âŒ æœªå®Ÿè£…
  integration/       # çµ±åˆãƒ†ã‚¹ãƒˆ âŒ æœªå®Ÿè£…
    api/
  e2e/              # E2Eãƒ†ã‚¹ãƒˆ âŒ æœªå®Ÿè£…
vitest.config.ts    # âœ… å®Ÿè£…æ¸ˆã¿
```

### Phase 2: ã‚³ãƒ¼ãƒ‰ã®åˆ†å‰²ã¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–

#### 2.1 Zustandã‚¹ãƒˆã‚¢ã®åˆ†å‰² âœ… å®Œäº†

**ç¾çŠ¶**: `useStore.ts`ã«å…¨ã¦ã®ã‚¹ãƒ†ãƒ¼ãƒˆç®¡ç†ãŒé›†ç´„ï¼ˆ766è¡Œï¼‰

**æ”¹å–„çµæœ**: è²¬å‹™ã”ã¨ã«ã‚¹ãƒˆã‚¢ã‚’åˆ†å‰² âœ…

```typescript
lib/store/
  â”œâ”€â”€ useStore.ts (25è¡Œ) - çµ±åˆ âœ…
  â”œâ”€â”€ slices/
  â”‚   â”œâ”€â”€ chatSlice.ts (45è¡Œ) âœ…
  â”‚   â”œâ”€â”€ uiSlice.ts (85è¡Œ) âœ…
  â”‚   â”œâ”€â”€ toastSlice.ts (36è¡Œ) âœ…
  â”‚   â”œâ”€â”€ settingsSlice.ts (132è¡Œ) âœ…
  â”‚   â”œâ”€â”€ historySlice.ts (101è¡Œ) âœ…
  â”‚   â””â”€â”€ itinerarySlice.ts (335è¡Œ) âœ…
  â””â”€â”€ README.md âœ…
```

**é”æˆã—ãŸåˆ©ç‚¹**:
- âœ… è²¬å‹™ãŒæ˜ç¢ºåŒ–
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®å‰Šæ¸›ï¼ˆå¹³å‡122è¡Œ/ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- âœ… ãƒ†ã‚¹ãƒˆãŒå®¹æ˜“
- âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®æœ€é©åŒ–

#### 2.2 ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®æŠ½å‡º âŒ æœªå®Ÿæ–½

**ç¾çŠ¶**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã«ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒæ··åœ¨

**æ”¹å–„æ¡ˆ**: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã«åˆ†é›¢

```typescript
lib/hooks/           # âŒ æœªä½œæˆ
  â”œâ”€â”€ useChat.ts              # ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã®ãƒ­ã‚¸ãƒƒã‚¯
  â”œâ”€â”€ useItineraryEditor.ts   # ã—ãŠã‚Šç·¨é›†ã®ãƒ­ã‚¸ãƒƒã‚¯
  â””â”€â”€ useStreamingResponse.ts # ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†

lib/utils/           # ä¸€éƒ¨å®Ÿè£…æ¸ˆã¿
  â”œâ”€â”€ itinerary-helpers.ts    # âŒ æœªä½œæˆ
  â”œâ”€â”€ validation.ts           # âŒ æœªä½œæˆ
  â””â”€â”€ formatting.ts           # âŒ æœªä½œæˆ
```

### Phase 3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€ âŒ æœªå®Ÿæ–½

#### 3.1 ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã®å®šç¾© âŒ
```typescript
lib/errors/          # âŒ æœªä½œæˆ
  â”œâ”€â”€ AppError.ts           # åŸºåº•ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹
  â”œâ”€â”€ APIError.ts           # APIé–¢é€£ã‚¨ãƒ©ãƒ¼
  â”œâ”€â”€ ValidationError.ts    # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
  â””â”€â”€ index.ts
```

#### 3.2 ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã®å®Ÿè£… âŒ
```typescript
components/errors/   # âŒ æœªä½œæˆ
  â”œâ”€â”€ ErrorBoundary.tsx     # React Error Boundary
  â””â”€â”€ APIErrorHandler.tsx   # API ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
```

### Phase 4: å‹å®‰å…¨æ€§ã®å‘ä¸Š ğŸ”„ ä¸€éƒ¨å®Ÿæ–½

#### 4.1 `any`å‹ã®å‰Šæ¸› ğŸ”„
- âœ… lib/store/ - å‹å®‰å…¨æ€§å‘ä¸Š
- âŒ components/ - æ®‹å­˜ã™ã‚‹`any`å‹ã‚ã‚Š
- âŒ app/api/ - ä¸€éƒ¨ã§`any`ä½¿ç”¨

#### 4.2 å‹å®šç¾©ã®æ•´ç† âŒ
```typescript
types/               # æ—¢å­˜ã‚ã‚Šã€æ•´ç†ã¯æœªå®Ÿæ–½
  â”œâ”€â”€ common.ts            # å…±é€šå‹
  â”œâ”€â”€ domain/              # ãƒ‰ãƒ¡ã‚¤ãƒ³å‹
  â”‚   â”œâ”€â”€ chat.ts
  â”‚   â”œâ”€â”€ itinerary.ts
  â”‚   â””â”€â”€ user.ts
  â””â”€â”€ api/                 # APIå‹
      â”œâ”€â”€ requests.ts
      â””â”€â”€ responses.ts
```

## ğŸ“ ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°**: âœ… 90%ä»¥ä¸Šé”æˆ
- **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯**: âŒ æœªå®Ÿæ–½
- **API Route**: âŒ æœªå®Ÿæ–½
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: âŒ æœªå®Ÿæ–½

### å„ªå…ˆåº¦ä»˜ã‘ãƒ†ã‚¹ãƒˆå¯¾è±¡

#### ğŸ”´ é«˜å„ªå…ˆåº¦

1. **AIçµ±åˆãƒ­ã‚¸ãƒƒã‚¯** (`lib/ai/prompts.ts`) âœ… å®Œäº†
   - âœ… `parseAIResponse`: JSONæŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯ (19ãƒ†ã‚¹ãƒˆ)
   - âœ… `mergeItineraryData`: ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸ãƒ­ã‚¸ãƒƒã‚¯
   - âœ… ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: æ­£å¸¸ç³»ã€ç•°å¸¸ç³»ã€å¢ƒç•Œå€¤

2. **ãƒãƒ£ãƒƒãƒˆAPI** (`app/api/chat/route.ts`) âŒ æœªå®Ÿæ–½
   - âŒ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°/éã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
   - âŒ ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆï¼ˆGemini/Claudeï¼‰
   - âŒ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

3. **ã‚¹ãƒˆã‚¢æ“ä½œ** (`lib/store/useStore.ts`) ğŸ”„ ã‚¹ãƒ©ã‚¤ã‚¹åŒ–å®Œäº†ã€ãƒ†ã‚¹ãƒˆæœªå®Ÿæ–½
   - âœ… ã‚¹ãƒ©ã‚¤ã‚¹åŒ–å®Œäº†
   - âŒ å„ã‚¹ãƒ©ã‚¤ã‚¹ã®å˜ä½“ãƒ†ã‚¹ãƒˆæœªå®Ÿæ–½

#### ğŸŸ¡ ä¸­å„ªå…ˆåº¦

4. **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°** âœ… å®Œäº†
   - âœ… `storage.ts`: LocalStorageæ“ä½œ (19ãƒ†ã‚¹ãƒˆ)
   - âœ… `time-utils.ts`: æ™‚é–“è¨ˆç®— (20ãƒ†ã‚¹ãƒˆ)
   - âœ… `encryption.ts`: æš—å·åŒ– (18ãƒ†ã‚¹ãƒˆ)

5. **ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†** âŒ æœªå®Ÿæ–½
   - âŒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
   - âŒ ãƒ‡ãƒ¼ã‚¿å¤‰æ›

#### ğŸŸ¢ ä½å„ªå…ˆåº¦

6. **UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** âŒ æœªå®Ÿæ–½
   - âŒ é™çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - âŒ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤

### ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

#### å˜ä½“ãƒ†ã‚¹ãƒˆä¾‹ âœ… å®Ÿè£…æ¸ˆã¿
```typescript
// __tests__/unit/lib/ai/prompts.test.ts
import { describe, it, expect } from 'vitest';
import { parseAIResponse, mergeItineraryData } from '@/lib/ai/prompts';

describe('parseAIResponse', () => {
  it('should extract JSON from response', () => {
    const response = 'ãƒ†ã‚­ã‚¹ãƒˆ\n```json\n{"title":"test"}\n```';
    const result = parseAIResponse(response);
    expect(result.itineraryData).toEqual({ title: 'test' });
    expect(result.message).toBe('ãƒ†ã‚­ã‚¹ãƒˆ');
  });
});
```

#### çµ±åˆãƒ†ã‚¹ãƒˆä¾‹ âŒ æœªå®Ÿè£…
```typescript
// __tests__/integration/api/chat.test.ts
import { describe, it, expect, vi } from 'vitest';
import { POST } from '@/app/api/chat/route';

describe('POST /api/chat', () => {
  it('should return streaming response', async () => {
    // æœªå®Ÿè£…
  });
});
```

## ğŸš€ CI/CDçµ±åˆ

### GitHub Actionsè¨­å®š âœ… å®Œäº†
```yaml
# .github/workflows/test.yml
name: Test
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run test:ci
```

## ğŸ“Š å®Ÿè£…è¨ˆç”»ã¨é€²æ—çŠ¶æ³

### âœ… Phase 1: å®Œäº†æ¸ˆã¿ï¼ˆ2025-10-07ï¼‰

#### åŸºç¤æ§‹ç¯‰
- [x] Vitestã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- [x] GitHub Actionsè¨­å®š
- [x] ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãƒ†ã‚¹ãƒˆï¼ˆé«˜å„ªå…ˆåº¦ï¼‰

#### ã‚³ã‚¢æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- [x] AIçµ±åˆãƒ­ã‚¸ãƒƒã‚¯ãƒ†ã‚¹ãƒˆï¼ˆlib/ai/prompts.tsï¼‰
- [x] ã‚¹ãƒˆã‚¢åˆ†å‰²å®Œäº†ï¼ˆ6ã‚¹ãƒ©ã‚¤ã‚¹ï¼‰
- [x] ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãƒ†ã‚¹ãƒˆå®Œå…¨å®Ÿè£…
  - [x] time-utils.ts (20ãƒ†ã‚¹ãƒˆ)
  - [x] encryption.ts (18ãƒ†ã‚¹ãƒˆ)
  - [x] storage.ts (19ãƒ†ã‚¹ãƒˆ)

#### ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- [x] Zustandã‚¹ãƒˆã‚¢å®Œå…¨åˆ†å‰²
  - [x] chatSlice.ts
  - [x] uiSlice.ts
  - [x] toastSlice.ts
  - [x] settingsSlice.ts
  - [x] historySlice.ts
  - [x] itinerarySlice.ts

### ğŸ”„ Phase 2: æœªå®Œäº†ï¼ˆå„ªå…ˆåº¦é †ï¼‰

#### ğŸ”´ é«˜å„ªå…ˆåº¦
- [ ] **APIãƒ«ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ**
  - [ ] `/api/chat` (POST) - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°/éã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
  - [ ] `/api/health` (GET)
  - [ ] `/api/user/me` (GET)
  - [ ] ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ

#### ğŸŸ¡ ä¸­å„ªå…ˆåº¦
- [ ] **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ**
  - [ ] MessageInput.tsx - ãƒãƒ£ãƒƒãƒˆå…¥åŠ›
  - [ ] MessageList.tsx - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
  - [ ] ItineraryPreview.tsx - ã—ãŠã‚Šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
  - [ ] ErrorNotification.tsx - ã‚¨ãƒ©ãƒ¼é€šçŸ¥

- [ ] **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€**
  - [ ] ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã®å®šç¾©
  - [ ] ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã®å®Ÿè£…
  - [ ] çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼è¡¨ç¤º

#### ğŸŸ¢ ä½å„ªå…ˆåº¦
- [ ] **å‹å®‰å…¨æ€§å‘ä¸Š**
  - [ ] æ®‹å­˜ã™ã‚‹`any`å‹ã®å‰Šæ¸›
  - [ ] å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°ã®è¿½åŠ 
  - [ ] ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®æ´»ç”¨

- [ ] **E2Eãƒ†ã‚¹ãƒˆ**
  - [ ] ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼
  - [ ] ã—ãŠã‚Šä½œæˆãƒ•ãƒ­ãƒ¼
  - [ ] ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼

## ğŸ”§ ãƒ„ãƒ¼ãƒ«ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### package.jsonè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ âœ…
```json
{
  "scripts": {
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest run --coverage",
    "test:watch": "vitest --watch",
    "test:ci": "vitest run --coverage --reporter=verbose"
  }
}
```

## ğŸ“š å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

- [Vitest Documentation](https://vitest.dev/)
- [Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
- [Zustand Testing](https://docs.pmnd.rs/zustand/guides/testing)
- [Next.js Testing](https://nextjs.org/docs/app/building-your-application/testing)

## âœ… æˆåŠŸã®æŒ‡æ¨™

### Phase 1 é”æˆæ¸ˆã¿ âœ…
- [x] **ãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰** - Vitest + GitHub Actions
- [x] **76å€‹ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ** - 100%åˆæ ¼
- [x] **Zustandã‚¹ãƒˆã‚¢åˆ†å‰²** - 6ã‚¹ãƒ©ã‚¤ã‚¹ã«åˆ†å‰²å®Œäº†
- [x] **CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‹•ä½œ** - GitHub Actionsç¨¼åƒä¸­
- [x] **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆå‹•ä½œ** - `npm test` å®Œå…¨å‹•ä½œ

### Phase 2 ç›®æ¨™ï¼ˆæœªé”æˆï¼‰
- [ ] **APIãƒ«ãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ** - çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…
- [ ] **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ** - ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸70%ä»¥ä¸Š** - ç¾åœ¨: lib/ã®ã¿90%+
- [ ] **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€** - ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹å®Ÿè£…
- [ ] **ã™ã¹ã¦ã®`any`å‹å‰Šæ¸›** - QuickActions.tsxãªã©æ®‹å­˜
- [ ] **å‹ã‚¨ãƒ©ãƒ¼0** - ç¾åœ¨: 3ä»¶ã®ã‚¨ãƒ©ãƒ¼ï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ç”±æ¥ï¼‰

## ğŸ“ˆ ç¾åœ¨ã®é€²æ—

| ã‚«ãƒ†ã‚´ãƒª | å®Œäº†ç‡ | è©³ç´° |
|---------|-------|------|
| ãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ© | 100% | âœ… å®Œäº† |
| lib/ãƒ†ã‚¹ãƒˆ | 100% | âœ… 76ãƒ†ã‚¹ãƒˆåˆæ ¼ |
| lib/ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | 100% | âœ… ã‚¹ãƒˆã‚¢åˆ†å‰²å®Œäº† |
| app/api/ãƒ†ã‚¹ãƒˆ | 0% | âŒ æœªç€æ‰‹ |
| components/ãƒ†ã‚¹ãƒˆ | 0% | âŒ æœªç€æ‰‹ |
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | 0% | âŒ æœªç€æ‰‹ |
| **ç·åˆé€²æ—** | **ç´„40%** | Phase 1å®Œäº† |

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆæ¨å¥¨å„ªå…ˆåº¦é †ï¼‰

### 1. ğŸ”´ æœ€å„ªå…ˆ: APIãƒ«ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ
- `app/api/chat/route.ts` ã®çµ±åˆãƒ†ã‚¹ãƒˆ
- `app/api/health/route.ts` ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
- `app/api/user/me/route.ts` ã®èªè¨¼ãƒ†ã‚¹ãƒˆ

### 2. ğŸŸ¡ é«˜å„ªå…ˆ: ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
- `MessageInput.tsx` - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ä¸­æ ¸
- `MessageList.tsx` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- `ItineraryPreview.tsx` - ã—ãŠã‚Šè¡¨ç¤º

### 3. ğŸŸ¡ ä¸­å„ªå…ˆ: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€
- ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã®å®šç¾©
- ErrorBoundaryã®å®Ÿè£…
- çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼è¡¨ç¤ºUI

### 4. ğŸŸ¢ ä½å„ªå…ˆ: æ®‹ã‚Šã®æ”¹å–„
- å‹å®‰å…¨æ€§ã®å®Œå…¨ãªå‘ä¸Š
- E2Eãƒ†ã‚¹ãƒˆã®è¿½åŠ 
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

---

**æœ€çµ‚æ›´æ–°**: 2025-10-07 16:30  
**æ‹…å½“è€…**: Development Team  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 1å®Œäº† / Phase 2æœªç€æ‰‹  
**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: APIãƒ«ãƒ¼ãƒˆãƒ†ã‚¹ãƒˆå®Ÿè£…ã‚’æ¨å¥¨